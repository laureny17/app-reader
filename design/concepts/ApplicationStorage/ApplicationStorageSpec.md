# Application Storage Spec

```
concept ApplicationStorage [Application, Event]
purpose Store application data (with applied-to event, applicant information, and answers) and AI-generated comments
    from that content.
principle An admin can add applications to an active event. Applications include answers, and a set of comments
    generated by an LLM can be generated and re-generated using question and rubric sets of strings passed as parameters.

state
    a set of Applications with
        an event Event
        an applicantID String
        an applicantYear String
        an answers set of String

    a set of AIComments with
        an application Application
        a category String
        a quotedSnippet String
        a justification String

actions
    addApplication (adder: String, event: Event, applicantID: String, applicantYear: String, answers: set of String): (application: Application, event: Event)
        requires: applicantID and applicantYear are non-empty strings, answers is a non-empty set
        effects: create an application for the event for the applicantID, associated with the applicantYear
            and the set of answers; return the created application and event for which it was submitted

    async generateAIComments (application: Application, questions: set of String, rubric: set of String, eligibilityCriteria: set of String)
        requires: application exists
        effects: populate AIComments or replace existing AIComments using an analysis of the answers that incorporates
            the provided event questions and rubric, where the category is "Strong," "Weak," or "Attention," the
            quotedSnippet is a substring from answers, and the justification is a non-empty string
```
